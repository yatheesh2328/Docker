# FROM - IT IS USED TO USE THE BASE IMAGE FROM UBUNTU 20.04
FROM ubuntu:20.04
# ARG - IT IS USED TO DEFINE THE BUILD-TIME VARIABLE 
ARG dir=/home/yatish
# ENV - IT IS USED TO DEFINE THE ENVIRONMENT VARIABLE WITH VARIABLE NAME TEST AND VALUE FROM $dir
ENV test $dir
# WORKDIR - IT IS USED TO SET THE WORKING DIR INSIDE THE CONTAINER WITH VALUE FROM $dir
WORKDIR $dir
# EXPOSE - IT IS USED TO OPEN THE PORT FOR THE CONTAINER 
EXPOSE 8080
# PUBLISH - IT IS USED TO MAP THE PORT OF CONTAINER TO HOST PORT
# PUBLISH 8080
# RUN - IT IS USED TO EXECUTE THE COMMAND AND COMMIT AND UPDATE THE CONTAINER AND COMMIT
RUN apt update
RUN apt install tree
# COPY - IT IS USED TO COPY THE CONTENT
COPY displayscript.sh .
COPY testing.sh .
# COPY *.SH . - COPIES ALL THE FILES FROM HOST TO CWD OF CONTAINER
COPY *.sh .
COPY . .
# ADD - IT IS SIMILAR TO COPY AND ALSO USED TO EXTRACT THE TAR FILES
ADD https://getsamplefiles.com/download/tar/sample-1.tar .
ADD sample-1.tar .
#RUN ./testing.sh .
# CMD - IT IS USED TO EXECUTE THE COMMAND WHEN CONTAINER STARTS
CMD ./testing.sh . $test
CMD ["sh", "-c", "./displayscript.sh Hello-Yatish && ./testing.sh"]
# ENTRYPOINT - IT IS ALSO SAME AS CMD BUT IT IS USED TO SET THE ENTRYPOINT FOR THE CONTAINER WHEN IT STARTS
# IT CANNOT BE OVERIDEN BUT CMD CAN BE OVERDIDEN
# IF BOTH ENTRY POINT & CMD ARE PRESENT THEN CMD ACTS AS AN ARGUMENT FOR ENTRYPOINT
ENTRYPOINT [ "./displayscript.sh" ]
CMD "Hello-Yatish"
# MAINTAINER - IT IS USED TO KNOW OR KEEP THE OWNER NAME OF THE IMAGE & IT IS PASSED DURING DOCKER RUN THE IMAGE
